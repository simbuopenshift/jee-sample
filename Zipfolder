import com.google.cloud.storage.BlobInfo;

// Assuming `storage` is already initialized
// Assuming `csvContent` is a StringBuilder containing CSV data
// Assuming `csvFileName` is the name of the CSV file

ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
try (ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream)) {
    ZipEntry entry = new ZipEntry("folder/" + csvFileName); // Specify a folder name
    zipOutputStream.putNextEntry(entry);
    zipOutputStream.write(csvContent.toString().getBytes());
    zipOutputStream.closeEntry();
}

BlobInfo blobInfo = BlobInfo.newBuilder(bucketName, zipFileName)
    .setContentType("application/zip") // Set content type to indicate it's a zip file
    .build();

Blob blob = storage.create(
    blobInfo,
    outputStream.toByteArray()
);
