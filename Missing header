import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.MissingRequestHeaderException;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/api")
public class ExampleController {

    @GetMapping("/example/{id}")
    public ResponseEntity<String> getById(
            @PathVariable String id,
            @RequestHeader(name = "Header1") String header1,
            @RequestHeader(name = "Header2") String header2) {

        // Your logic here
        return ResponseEntity.ok("Data for ID: " + id);
    }

    @ExceptionHandler(MissingRequestHeaderException.class)
    public ResponseEntity<String> handleMissingRequestHeaderException(MissingRequestHeaderException ex) {
        String headerName = ex.getHeaderName();
        String errorMessage = "Required request header '" + headerName + "' is missing.";
        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(errorMessage);
    }
}
