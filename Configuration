import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.context.annotation.Configuration;

@Configuration
@ConfigurationProperties(prefix = "")
public class LoadConfig {

    @Autowired
    private Environment environment;

    private String prefix;

    // Define fields corresponding to properties in both prefixes

    // Getter and setter for the prefix

    // Define methods to set the prefix based on runtime conditions

    public String getPrefix() {
        return prefix;
    }

    public void setPrefix(String prefix) {
        this.prefix = prefix;
    }

    public void selectPrefixBasedOnCondition(boolean condition) {
        if (condition) {
            this.prefix = "user-load";
        } else {
            this.prefix = "client-load";
        }
    }
}

@Service
public class MyService {

    private final LoadConfig loadConfig;

    public MyService(LoadConfig loadConfig) {
        this.loadConfig = loadConfig;
    }

    public void doSomethingBasedOnCondition(boolean condition) {
        loadConfig.selectPrefixBasedOnCondition(condition);
        // Access properties using loadConfig.getPrefix()
        // ...
    }
}


